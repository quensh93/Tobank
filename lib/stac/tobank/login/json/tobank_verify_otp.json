{
  "appBar": {
    "title": {
      "data": "{{appStrings.verifyOtp.title}}",
      "style": {
        "type": "alias",
        "value": "{{appStyles.appbarStyle}}"
      },
      "textDirection": "rtl",
      "type": "text"
    },
    "centerTitle": true,
    "type": "appBar"
  },
  "body": {
    "autovalidateMode": "onUserInteraction",
    "child": {
      "crossAxisAlignment": "stretch",
      "textDirection": "rtl",
      "children": [
        {
          "child": {
            "padding": {
              "left": 16.0,
              "top": 16.0,
              "right": 16.0,
              "bottom": 16.0
            },
            "child": {
              "crossAxisAlignment": "stretch",
              "textDirection": "rtl",
              "children": [
                {
                  "data": "{{appStrings.verifyOtp.receiveVerificationCode}}",
                  "style": {
                    "type": "custom",
                    "color": "onSurface",
                    "fontSize": 20.0,
                    "fontWeight": "w600"
                  },
                  "textDirection": "rtl",
                  "type": "text"
                },
                {
                  "height": 16.0,
                  "type": "sizedBox"
                },
                {
                  "data": "کد تایید به شماره {{appData.mobile_number}} ارسال شد",
                  "style": {
                    "type": "custom",
                    "color": "onSurface",
                    "fontSize": 14.0,
                    "fontWeight": "w500"
                  },
                  "textDirection": "rtl",
                  "type": "text"
                },
                {
                  "height": 16.0,
                  "type": "sizedBox"
                },
                {
                  "mainAxisAlignment": "spaceBetween",
                  "textDirection": "rtl",
                  "children": [
                    {
                      "child": {
                        "data": "{{appStrings.verifyOtp.wrongNumber}}",
                        "style": {
                          "type": "custom",
                          "color": "onSurface",
                          "fontSize": 16.0,
                          "fontWeight": "w600"
                        },
                        "textDirection": "rtl",
                        "type": "text"
                      },
                      "type": "expanded"
                    },
                    {
                      "onPressed": {
                        "navigationStyle": "pop",
                        "actionType": "navigate"
                      },
                      "child": {
                        "mainAxisAlignment": "center",
                        "mainAxisSize": "min",
                        "textDirection": "rtl",
                        "children": [
                          {
                            "src": "{{appAssets.icons.edit}}",
                            "imageType": "asset",
                            "color": "secondary",
                            "width": 16.0,
                            "height": 16.0,
                            "type": "image"
                          },
                          {
                            "width": 8.0,
                            "type": "sizedBox"
                          },
                          {
                            "data": "{{appStrings.verifyOtp.edit}}",
                            "style": {
                              "type": "custom",
                              "color": "secondary",
                              "fontSize": 14.0,
                              "fontWeight": "w600"
                            },
                            "textDirection": "rtl",
                            "type": "text"
                          }
                        ],
                        "type": "row"
                      },
                      "type": "textButton"
                    }
                  ],
                  "type": "row"
                },
                {
                  "height": 24.0,
                  "type": "sizedBox"
                },
                {
                  "crossAxisAlignment": "start",
                  "textDirection": "rtl",
                  "children": [
                    {
                      "child": {
                        "height": 56.0,
                        "child": {
                          "id": "otp_code",
                          "decoration": {
                            "contentPadding": {
                              "left": 16.0,
                              "top": 10.0,
                              "right": 16.0,
                              "bottom": 10.0
                            },
                            "filled": false
                          },
                          "keyboardType": "number",
                          "textInputAction": "done",
                          "style": {
                            "type": "custom",
                            "color": "onSurface",
                            "fontSize": 24.0,
                            "fontWeight": "w600",
                            "letterSpacing": 8.0,
                            "fontFamily": "IranYekan"
                          },
                          "textAlign": "right",
                          "textDirection": "ltr",
                          "maxLength": 5,
                          "type": "textFormField"
                        },
                        "type": "sizedBox"
                      },
                      "type": "expanded"
                    },
                    {
                      "width": 8.0,
                      "type": "sizedBox"
                    },
                    {
                      "onPressed": {
                        "url": "https://api.tobank.com/resend-otp",
                        "method": "post",
                        "contentType": "application/json",
                        "body": {
                          "mobile_number": {
                            "id": "mobile_number",
                            "actionType": "getFormValue"
                          }
                        },
                        "results": [
                          {
                            "statusCode": 200,
                            "action": {
                              "values": [
                                {
                                  "key": "form.otp_code",
                                  "value": ""
                                }
                              ],
                              "actionType": "setValue"
                            }
                          }
                        ],
                        "actionType": "networkRequest"
                      },
                      "style": {
                        "fixedSize": {
                          "width": 90.0,
                          "height": 40.0
                        },
                        "shape": {
                          "type": "roundedRectangleBorder",
                          "borderRadius": {
                            "topLeft": 8.0,
                            "topRight": 8.0,
                            "bottomLeft": 8.0,
                            "bottomRight": 8.0
                          }
                        }
                      },
                      "child": {
                        "data": "{{appStrings.verifyOtp.sendAgain}}",
                        "style": {
                          "type": "custom",
                          "color": "secondary",
                          "fontSize": 14.0,
                          "fontWeight": "w600",
                          "fontFamily": "IranYekan"
                        },
                        "textDirection": "rtl",
                        "type": "text"
                      },
                      "type": "outlinedButton"
                    }
                  ],
                  "type": "row"
                }
              ],
              "type": "column"
            },
            "type": "singleChildScrollView"
          },
          "type": "expanded"
        },
        {
          "padding": {
            "left": 16.0,
            "top": 16.0,
            "right": 16.0,
            "bottom": 16.0
          },
          "child": {
            "onPressed": {
              "isValid": {
                "values": [
                  {
                    "key": "form.otp_code",
                    "value": {
                      "id": "otp_code",
                      "actionType": "getFormValue"
                    }
                  }
                ],
                "action": {
                  "url": "https://api.tobank.com/verify-otp",
                  "method": "post",
                  "contentType": "application/json",
                  "body": {
                    "mobile_number": {
                      "id": "mobile_number",
                      "actionType": "getFormValue"
                    },
                    "otp_code": {
                      "id": "otp_code",
                      "actionType": "getFormValue"
                    }
                  },
                  "results": [
                        {
                          "statusCode": 200,
                          "action": {
                            "widget": {
                              "type": "alertDialog",
                              "title": {
                                "type": "text",
                                "data": "پایان روند",
                                "textDirection": "rtl",
                                "textAlign": "center",
                                "style": {
                                  "type": "custom",
                                  "fontSize": 20.0,
                                  "fontWeight": "w700",
                                  "color": "{{appColors.current.text.title}}"
                                }
                              },
                              "contentPadding": {
                                "left": 24,
                                "right": 24,
                                "top": 20,
                                "bottom": 24
                              },
                              "content": {
                                "type": "column",
                                "crossAxisAlignment": "center",
                                "mainAxisSize": "min",
                                "children": [
                                  {
                                    "type": "image",
                                    "src": "{{appAssets.icons.success}}",
                                    "imageType": "asset",
                                    "width": 80.0,
                                    "height": 80.0,
                                    "color": "{{appColors.current.success.color}}"
                                  },
                                  {
                                    "type": "sizedBox",
                                    "height": 20.0
                                  },
                                  {
                                    "type": "text",
                                    "data": "تبریک! روند لاگین با موفقیت تکمیل شد.",
                                    "textDirection": "rtl",
                                    "textAlign": "center",
                                    "style": {
                                      "type": "custom",
                                      "fontSize": 16.0,
                                      "fontWeight": "w500",
                                      "color": "{{appColors.current.text.title}}",
                                      "height": 1.5
                                    }
                                  },
                                  {
                                    "type": "sizedBox",
                                    "height": 12.0
                                  },
                                  {
                                    "type": "text",
                                    "data": "اسپلش ← آنبردینگ ← ورود ← تایید کد",
                                    "textDirection": "rtl",
                                    "textAlign": "center",
                                    "style": {
                                      "type": "custom",
                                      "fontSize": 13.0,
                                      "color": "{{appColors.current.text.subtitle}}"
                                    }
                                  },
                                  {
                                    "type": "sizedBox",
                                    "height": 24.0
                                  },
                                  {
                                    "type": "sizedBox",
                                    "width": 999999.0,
                                    "child": {
                                      "type": "filledButton",
                                      "style": {
                                        "backgroundColor": "{{appColors.current.primary.color}}",
                                        "foregroundColor": "{{appColors.current.primary.onPrimary}}",
                                        "minimumSize": {
                                          "width": 999999.0,
                                          "height": 48.0
                                        },
                                        "shape": {
                                          "type": "roundedRectangle",
                                          "borderRadius": {
                                            "topLeft": 12.0,
                                            "topRight": 12.0,
                                            "bottomLeft": 12.0,
                                            "bottomRight": 12.0
                                          }
                                        }
                                      },
                                      "child": {
                                        "type": "text",
                                        "data": "بازگشت به منو",
                                        "textDirection": "rtl",
                                        "style": {
                                          "type": "custom",
                                          "fontSize": 16.0,
                                          "color": "{{appColors.current.primary.onPrimary}}",
                                          "fontWeight": "w600"
                                        }
                                      },
                                      "onPressed": {
                                        "actionType": "multiAction",
                                        "actions": [
                                          {
                                            "actionType": "closeDialog"
                                          },
                                          {
                                            "actionType": "flowNext",
                                            "fallback": {
                                              "actionType": "navigate",
                                              "navigationStyle": "popAll"
                                            }
                                          }
                                        ]
                                      }
                                    }
                                  }
                                ]
                              }
                            },
                            "actionType": "showDialog"
                          }
                        }
                  ],
                  "actionType": "networkRequest"
                },
                "actionType": "setValue"
              },
              "actionType": "validateForm"
            },
            "style": {
              "backgroundColor": "{{appStyles.button.primary.backgroundColor}}",
              "elevation": 0.0,
              "textStyle": {
                "type": "custom",
                "color": "{{appStyles.button.primary.textStyleColor}}",
                "fontSize": 16.0,
                "fontWeight": "w600"
              },
              "padding": {
                "top": 8.0,
                "bottom": 8.0
              },
              "fixedSize": {
                "width": 999999.0,
                "height": 56.0
              },
              "shape": {
                "type": "roundedRectangleBorder",
                "borderRadius": {
                  "topLeft": 10.0,
                  "topRight": 10.0,
                  "bottomLeft": 10.0,
                  "bottomRight": 10.0
                }
              }
            },
            "child": {
              "data": "{{appStrings.verifyOtp.continueLabel}}",
              "style": {
                "type": "custom",
                "color": "{{appStyles.button.primary.textStyleColor}}",
                "fontSize": 16.0,
                "fontWeight": "w600"
              },
              "textDirection": "rtl",
              "type": "text"
            },
            "type": "elevatedButton"
          },
          "type": "padding"
        },
        {
          "height": 24.0,
          "type": "sizedBox"
        }
      ],
      "type": "column"
    },
    "type": "form"
  },
  "type": "scaffold"
}
